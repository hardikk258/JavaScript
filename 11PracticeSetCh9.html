<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> PS 9</title>
</head>
<body>
    <script>
/*
//problem 1
        function loadscript(src){
            return new Promise((resolve,reject)=>{
            let script = document.createElement("script")
            script.src=src
            script.onload=()=>{
                resolve(src + " done succes")
            }
            document.head.append(script)
        })
    }
let a = loadscript("https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js")
a.then((value)=>{
    console.log(value)
})

//problem 2
async function loadscript (src){
            return new Promise((resolve,reject)=>{
            let script = document.createElement("script")
            script.src=src
            script.onload=()=>{
                resolve(src + " done succes")
            }
            document.head.append(script)
        })
    }
const main2 = async()=>{
let a= await loadscript ("https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js")
}   
main2()


//problem 3
let p =()=>{
    return new Promise((resolve,reject)=>{
        setTimeout(()=>{
        reject(new Error("this is an error"))
        }, 2000)
    })
}
let a =async()=>{
    try{
        let c = await p()
        console.log(c)
    }
    catch (err){
        console.log("This error has been handled")   
    }
}
a()
*/

// problem 4

let p1 = async () => {
        return new Promise((resolve, reject) => {
                setTimeout(() => {
                        resolve(10)
                }, 200)
        })
}
let p2 = async () => {
        return new Promise((resolve, reject) => {
                setTimeout(() => {
                        resolve(20)
                }, 100)
        })
}
let p3 = async () => {
        return new Promise((resolve, reject) => {
                setTimeout(() => {
                        resolve(30)
                }, 300)
        })
}
async function run(){
let a1 =  p1();
let a2 =  p2();
let a3 =  p3();
 let abc = await Promise.all([a1,a2,a3])
 console.log(abc)
}
run()
    </script>
</body>
</html>
